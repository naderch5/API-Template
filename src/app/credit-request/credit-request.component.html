<section class="section section-lg section-hero section-shaped">
  <div class="shape shape-style-1 shape-primary">
      <span class="span-150"></span>
      <span class="span-50"></span>
      <span class="span-50"></span>
      <span class="span-75"></span>
      <span class="span-100"></span>
      <span class="span-75"></span>
      <span class="span-50"></span>
      <span class="span-100"></span>
      <span class="span-50"></span>
      <span class="span-100"></span>
  </div>
  <div class="container pt-lg-md">
      <div class="row justify-content-center">
          <div class="col-lg-5">
              <div class="card bg-secondary shadow border-0">
                  <div class="card-header bg-white">
                      <div class="text-muted text-center mb-3">
                          <p>Ajouter Credit Request</p>
                      </div>
                  </div>
                  <div class="card-body px-lg-5 py-lg-5">
                      <form *ngIf="entityForm" [formGroup]="entityForm" (ngSubmit)="onSubmit()">
                          <div class="form-group">
                              <label for="refundPeriod">Refund Period:</label>
                              <input class="form-control" type="number" id="refundPeriod" formControlName="refundPeriod">
                              <div *ngIf="entityForm.get('refundPeriod')?.invalid && entityForm.get('refundPeriod')?.touched">
                                  <div *ngIf="entityForm.get('refundPeriod')?.errors?.['required']">Refund period is required.</div>
                                  <div *ngIf="entityForm.get('refundPeriod')?.errors?.['invalidRefundPeriod']">Refund period must be between 6 and 36.</div>
                              </div>
                          </div>

                          <div class="form-group">
                              <label for="fixedIncome">Fixed Income:</label>
                              <input class="form-control" type="number" id="fixedIncome" formControlName="fixedIncome">
                              <div *ngIf="entityForm.get('fixedIncome')?.invalid && entityForm.get('fixedIncome')?.touched">
                                  <div *ngIf="entityForm.get('fixedIncome')?.errors?.['required']">Fixed income is required.</div>
                                  <div *ngIf="entityForm.get('fixedIncome')?.errors?.['insufficientFixedIncome']">Fixed income must be at least 1000.</div>
                              </div>
                          </div>

                          <div class="form-group">
                              <label for="amount">Amount:</label>
                              <input class="form-control" type="number" id="amount" formControlName="amount">
                              <div *ngIf="entityForm.get('amount')?.invalid && entityForm.get('amount')?.touched">
                                  <div *ngIf="entityForm.get('amount')?.errors?.['required']">Amount is required.</div>
                                  <div *ngIf="entityForm.get('amount')?.errors?.['invalidLoanAmount']">Amount must be between 1000 and 100000.</div>
                              </div>
                          </div>

                          <div class="form-group">
                              <label for="age">Age:</label>
                              <input class="form-control" type="number" id="age" formControlName="age">
                              <div *ngIf="entityForm.get('age')?.invalid && entityForm.get('age')?.touched">
                                  <div *ngIf="entityForm.get('age')?.errors?.['required']">Age is required.</div>
                                  <div *ngIf="entityForm.get('age')?.errors?.['invalidAge']">Age must be between 18 and 65.</div>
                              </div>
                          </div>

                          <div class="form-group">
                              <label for="guarantee">Guarantee:</label>
                              <input class="form-control" type="text" id="guarantee" formControlName="guarantee">
                              <div *ngIf="entityForm.get('guarantee')?.invalid && entityForm.get('guarantee')?.touched">
                                  <div *ngIf="entityForm.get('guarantee')?.errors?.['required']">Guarantee is required.</div>
                              </div>
                          </div>

                          <div class="form-group">
                              <label for="salary">Salary:</label>
                              <input class="form-control" type="number" id="salary" formControlName="salary">
                              <div *ngIf="entityForm.get('salary')?.invalid && entityForm.get('salary')?.touched">
                                  <div *ngIf="entityForm.get('salary')?.errors?.['required']">Salary is required.</div>
                                  <div *ngIf="entityForm.get('salary')?.errors?.['invalidSalary']">Salary must be at least 500.</div>
                              </div>
                          </div>

                          <div class="form-group">
                              <label for="description">Description:</label>
                              <textarea class="form-control" id="description" formControlName="description"></textarea>
                              <div *ngIf="entityForm.get('description')?.invalid && entityForm.get('description')?.touched">
                                  <div *ngIf="entityForm.get('description')?.errors?.['required']">Description is required.</div>
                              </div>
                          </div>

                          <div class="form-group">
                              <label for="userId">User ID:</label>
                              <input class="form-control" type="number" id="userId" formControlName="userId">
                              <div *ngIf="entityForm.get('userId')?.invalid && entityForm.get('userId')?.touched">
                                  <div *ngIf="entityForm.get('userId')?.errors?.['required']">User ID is required.</div>
                              </div>
                          </div>

                          <button type="submit" class="btn btn-2 btn-primary" [disabled]="!entityForm.valid">Submit</button>
                          <a href="http://localhost:4200/#/credit" class="btn">Aller vers ajouter credit</a>

                      </form>
                  </div>
              </div>
          </div>
      </div>
  </div>
</section>
